@page
@using DAL.Data.Enums
@model OnlineStore.Areas.Admin.Pages.Home.IndexModel
@{

}

@section Scripts{
<script src="~/js/admin/home.js" asp-append-version="true"></script>
<script>
    home.init();
</script>
}
<div class="row tile_count">
    <div class="col-md-3 col-sm-4 col-xs-6 tile_stats_count">
        <span class="count_top"><i class="fa fa-user"></i> Tổng số người dùng</span>
        <div class="count">@Model.NumberOfUsers</div>
    </div>
    <div class="col-md-3 col-sm-4 col-xs-6 tile_stats_count">
        <span class="count-top"><i class="fa fa-shopping-cart"></i> Tổng số sản phẩm</span>
        <div class="count">@Model.NumberOfProducts</div>
    </div>
    <div class="col-md-3 col-sm-4 col-xs-6 tile_stats_count">
        <span class="count_top"><i class="fa fa-user"></i> Tổng số nhân viên</span>
        <div class="count">@Model.NumberOfEmployees</div>
    </div>
    <div class="col-md-3 col-sm-4 col-xs-6 tile_stats_count">
        <span class="count_top"><i class="fa fa-user"></i> Tổng số đơn hàng</span>
        <div class="count">@Model.NumberOfOrders</div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Biểu đồ thống kê doanh thu (Đơn vị: VNĐ) </h2>
                <div class="filter">
                    <div id="reportrange" class="pull-right" style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc">
                        <i class="glyphicon glyphicon-calendar fa fa-calendar"></i>
                        <span>December 30, 2014 - January 28, 2015</span> <b class="caret"></b>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <div class="col-md-9 col-sm-12 col-xs-12">
                    <div class="demo-container" style="height:280px">
                        <div id="chart_plot_02" class="demo-placeholder"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-6 col-sm-4 col-xs-12">
        <div class="x_panel tile fixed_height_320 overflow_hidden">
            <div class="x_title">
                <h2>Tỷ trọng mua hàng theo danh mục</h2>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <table class="" style="width:100%">
                    <tr>
                        <th style="width:37%;">
                            <p>Top 3</p>
                        </th>
                        <th>
                            <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                <p class="">Tên danh mục</p>
                            </div>
                        </th>
                    </tr>
                    <tr>
                        <td>
                            <canvas class="canvasBestCategories" height="140" width="140" style="margin: 15px 10px 10px 0"></canvas>
                        </td>
                        <td>
                            <table class="tile_info">
                                @{
                                    var i = 0;
                                }
                                @foreach (var category in Model.BestSoldCategories.Take(3))
                                {
                                    <tr>
                                        <td>
                                            <p><i class="fa fa-square" style="color:@(category.Colors[i])"></i>@category.CategoryName </p>
                                        </td>
                                        <td>@(category.NumberOfDeliverdItems * 100 / Model.NumberOfDeliveredItem)%</td>
                                    </tr>
                                    i++;
                                }

                                @if (Model.NumberOfOtherDeliveredItem != 0)
                                {
                                    <tr>
                                        <td>
                                            <p><i class="fa fa-square red"></i>Những loại sản phẩm khác </p>
                                        </td>
                                        <td>@(Model.NumberOfOtherDeliveredItem * 100 / Model.NumberOfDeliveredItem)%</td>
                                    </tr>
                                }
                            </table>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-sm-4 col-xs-12">
        <div class="x_panel tile fixed_height_320 overflow_hidden">
            <div class="x_title">
                <h2>Tỷ trọng các phương thức nhận hàng</h2>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <table class="" style="width:100%">
                    <tr>
                        <th style="width:37%;">
                            <p>Top 3</p>
                        </th>
                    </tr>
                    <tr>
                        <td>
                            <canvas class="canvasBestDeliveryMethod" height="140" width="140" style="margin: 15px 10px 10px 0"></canvas>
                        </td>
                        <td>
                            <table class="tile_info" id="listDeliverMethods"></table>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>
<script id="table-template" type="x-tmpl-mustache">
    <tr>
        <td>
            <p><i class="fa fa-square" style="color: {{Color}}"></i>{{MethodName}} </p>
        </td>
        <td>{{ProportionOfMethod}}</td>
    </tr>
</script>