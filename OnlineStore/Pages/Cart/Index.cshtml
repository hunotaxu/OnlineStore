@page
@inject IStringLocalizer<IndexModel> localizer
@model OnlineStore.Pages.Cart.IndexModel
@{
    ViewData["Title"] = "Giỏ hàng";
}

@section Styles{
    <script src="~/js/client/layout/header.js"></script>
    @*<link href="~/css/client/cart/cart.css" rel="stylesheet" />*@
    <link href="~/css/client/cart/checkout.css" rel="stylesheet" />
}

@section Scripts{
    <script src="~/js/client/cart/cart.js" asp-append-version="true"></script>
    <script>
        cart.init();
    </script>
}
<!-- Main Container -->
<form method="post">
    <section class="main-container col1-layout">
        <div class="main container">
            <div class="col-main">
                <div class="cart">
                    <div class="page-content page-order">
                        <br/>
                        <div class="page-title">
                            <h2>Giỏ hàng của tôi</h2>
                        </div>
                        <div class="main-container container__row--center">
                            <div class="row col-md-8">
                                <div class="col-md-12">
                                    <table id="cart" class="table table-hover table-condensed " style="background-color:whitesmoke">
                                        <thead>
                                            <tr>
                                                <th class="col-sm-2 text-center">Hình ảnh</th>
                                                <th class="col-sm-5">Thông tin sản phẩm</th>
                                                <th class="col-sm-2">Giá</th>
                                                <th class="col-sm-2">Số lượng</th>
                                                <th class="col-sm-1"></th>
                                            </tr>
                                        </thead>
                                        <tbody id="container-cart"></tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="col-md-4 right container__div--subtotal">
                                <table class="table table-hover table-condensed">
                                    <thead>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <strong>
                                                    Tạm tính:
                                                </strong>
                                            </td>
                                            <td id="subTotal"></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div class="text-center">
                                    <a class="btn btn-success" id="btnConfirmOrder">@localizer["Tiến hành đặt hàng"]</a>
                                </div>
                            </div>
                        </div>
                        <script id="template-cart" type="x-tmpl-mustache">
                            <tr>
                                <td class="img-height-100">
                                    <input type="hidden" id="itemId" value="{{ItemId}}" />
                                    <img src="{{Image}}" alt="Sản phẩm không thể hiển thị" class="img-responsive" />
                                </td>
                                <td>
                                    <a href="/Product/Detail?id={{ItemId}}">
                                        <h4 class="nomargin productnamecheckout">- {{ProductName}}</h4>
                                    </a>
                                    <h4 class="nomargin productnamecheckout">- Thương hiệu: {{BrandName}}</h4>
                                    <span class="text-danger">{{OutOfStockNotifyCation}}</span>
                                </td>
                                <td style="vertical-align:middle;" data-th="Price" class=" price">{{Price}}</td>
                                <td style="vertical-align:middle;" data-th="Quantity">                                    
                                    <input type="number" data-itemId="{{ItemId}}" id="btnQuantity" {{IsOutOfStock}} class="form-control text-center" value="{{Quantity}}" min="1" max="{{MaxQuantity}}">
                                </td>
                                <td style="vertical-align:middle;" class=" actions" data-th="">
                                    <button type="button" class="btn btn-danger btn-sm deleteItem right" data-itemId="{{ItemId}}" id="btnDeleteItem"><i class="fa fa-trash-o"></i></button>
                                </td>
                            </tr>
                        </script>
                    </div>
                </div>
            </div>
        </div>
    </section>
</form>